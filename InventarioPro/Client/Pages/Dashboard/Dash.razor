@using System.Collections.Generic
@using Radzen.Blazor

<PageTitle>Dashboard de Inventario</PageTitle>

<RadzenText TextStyle="TextStyle.H4" TagName="TagName.H1" class="rz-pt-4">
    Dashboard de Inventario
</RadzenText>

<RadzenStack Gap="0.5rem">
    <!-- Reducir el gap -->
    <RadzenCard class="rz-my-8">
        <!-- Ajustar el margen -->
        <RadzenText TextStyle="TextStyle.H5">Resumen del Inventario</RadzenText>
        <RadzenRow JustifyContent="Radzen.JustifyContent.SpaceBetween">
            <RadzenColumn Size="4">
                <RadzenCard Variant="Radzen.Variant.Outlined" Style="height: 100%; padding: 10px; background-color: #e0f7fa;">
                    <!-- Color de fondo personalizado -->
                    <RadzenStack JustifyContent="Radzen.JustifyContent.SpaceBetween" Style="height: 100%;">
                        <RadzenText TextStyle="TextStyle.H6" Style="color: #00796b;">Total de Productos</RadzenText> <!-- Color del texto -->
                        <RadzenText TextStyle="TextStyle.H4" Style="color: #004d40;">@totalProducts</RadzenText> <!-- Color del texto -->
                    </RadzenStack>
                </RadzenCard>
            </RadzenColumn>
            <RadzenColumn Size="4">
                <RadzenCard Variant="Radzen.Variant.Outlined" Style="height: 100%; padding: 10px; background-color: #ffe0b2;">
                    <!-- Color de fondo -->
                    <RadzenStack JustifyContent="Radzen.JustifyContent.SpaceBetween" Style="height: 100%;">
                        <RadzenText TextStyle="TextStyle.H6" Style="color: #e65100;">Productos en Stock</RadzenText> <!-- Color del texto -->
                        <RadzenText TextStyle="TextStyle.H4" Style="color: #e65100;">@inStock</RadzenText> <!-- Color del texto -->
                    </RadzenStack>
                </RadzenCard>
            </RadzenColumn>
            <RadzenColumn Size="4">
                <RadzenCard Variant="Radzen.Variant.Outlined" Style="height: 100%; padding: 10px; background-color: #ffccbc;">
                    <!-- Color de fondo -->
                    <RadzenStack JustifyContent="Radzen.JustifyContent.SpaceBetween" Style="height: 100%;">
                        <RadzenText TextStyle="TextStyle.H6" Style="color: #c62828;">Productos Agotados</RadzenText> <!-- Color del texto -->
                        <RadzenText TextStyle="TextStyle.H4" Style="color: #c62828;">@outOfStock</RadzenText> <!-- Color del texto -->
                    </RadzenStack>
                </RadzenCard>
            </RadzenColumn>

        </RadzenRow>
    </RadzenCard>

    <RadzenCard>
        <RadzenText TextStyle="TextStyle.H5">Gráfico de Productos por Categoría</RadzenText>
        <RadzenChart Style="width: 100%; height: 350px;">
            <!-- Reducir altura -->
            <RadzenColumnSeries Data=@productsByCategory ValueProperty="Count" CategoryProperty="Category" />
            <RadzenValueAxis>
                <RadzenGridLines Visible="true" />
            </RadzenValueAxis>
            <RadzenCategoryAxis />
            <RadzenLegend Visible="true" />
        </RadzenChart>
    </RadzenCard>

    <RadzenCard>
        <RadzenDataGrid Data=@inventoryItems AllowSorting="true" AllowFiltering="true" Style="height: 350px;">
            <!-- Reducir altura -->
            <Columns>
                <RadzenDataGridColumn Property="Name" Title="Nombre" />
                <RadzenDataGridColumn Property="Category" Title="Categoría" />
                <RadzenDataGridColumn Property="Quantity" Title="Cantidad" />
                <RadzenDataGridColumn Property="Price" Title="Precio" />
            </Columns>
        </RadzenDataGrid>
    </RadzenCard>
</RadzenStack>

@code {
    int totalProducts = 100; // Ejemplo
    int inStock = 75; // Ejemplo
    int outOfStock = 25; // Ejemplo

    // Ejemplo de datos para el gráfico
    IEnumerable<CategoryCount> productsByCategory = new List<CategoryCount>
    {
        new CategoryCount { Category = "Electrónica", Count = 40 },
        new CategoryCount { Category = "Ropa", Count = 30 },
        new CategoryCount { Category = "Hogar", Count = 30 },
    };

    // Ejemplo de datos para el DataGrid
    IEnumerable<InventoryItem> inventoryItems = new List<InventoryItem>
    {
        new InventoryItem { Name = "Laptop", Category = "Electrónica", Quantity = 10, Price = 800 },
        new InventoryItem { Name = "Camiseta", Category = "Ropa", Quantity = 20, Price = 25 },
        new InventoryItem { Name = "Sofá", Category = "Hogar", Quantity = 5, Price = 500 },
    };

    public class CategoryCount
    {
        public string Category { get; set; }
        public int Count { get; set; }
    }

    public class InventoryItem
    {
        public string Name { get; set; }
        public string Category { get; set; }
        public int Quantity { get; set; }
        public decimal Price { get; set; }
    }
}
